python ./build_ade20k_data.py  \
  --train_image_folder="/home/ubuntu/data/bonnet_dataset/seg_and_img/images/training/" \
  --train_image_label_folder="/home/ubuntu/data/bonnet_dataset/seg_and_img/annotations/training/" \
  --val_image_folder="/home/ubuntu/data/bonnet_dataset/seg_and_img/images/validation/" \
  --val_image_label_folder="/home/ubuntu/data/bonnet_dataset/seg_and_img/annotations/validation/" \
  --output_dir="/home/ubuntu/data/bonnet_dataset/tfrecord"

nohup python deeplab/train.py \
    --logtostderr \
    --training_number_of_steps=5000 \
    --train_split="train" \
    --model_variant="mobilenet_v2" \
    --output_stride=16 \
    --decoder_output_stride=4 \
    --train_crop_size="300,300" \
    --train_batch_size=4 \
    --dataset="ade20k" \
    --tf_initial_checkpoint="/home/ubuntu/data/deeplabv3_mnv2_ade20k_train_2018_12_03/model.ckpt" \
    --train_logdir="/home/ubuntu/data/bonnet_dataset/result_20200330_3" \
    --dataset_dir="/home/ubuntu/data/bonnet_dataset/tfrecord" >out20200330_3.log &

nohup python deeplab/vis.py \
    --logtostderr \
    --vis_split="val" \
    --model_variant="mobilenet_v2" \
    --output_stride=16 \
    --decoder_output_stride=4 \
    --vis_crop_size="900,900" \
    --dataset="ade20k" \
    --checkpoint_dir="/home/ubuntu/data/bonnet_dataset/result_20200330_2"\
    --vis_logdir="/home/ubuntu/data/bonnet_dataset/result_20200330_2_img_3910"\
    --dataset_dir="/home/ubuntu/data/bonnet_dataset/tfrecord" >out20200330_3_img.log &


python deeplab/eval.py \
    --logtostderr \
    --vis_split="val" \
    --model_variant="mobilenet_v2" \
    --output_stride=16 \
    --decoder_output_stride=4 \
    --eval_crop_size="900,900" \
    --dataset="ade20k" \
    --checkpoint_dir="/home/ubuntu/data/bonnet_dataset/result_20200330_3"\
    --eval_logdir="/home/ubuntu/data/bonnet_dataset/result_20200330_3_eval"\
    --dataset_dir="/home/ubuntu/data/bonnet_dataset/tfrecord"

tensorboard --logdir='/home/ubuntu/data/bonnet_dataset/result_20200330_3_eval/'